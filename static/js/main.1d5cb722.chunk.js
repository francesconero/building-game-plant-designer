(this["webpackJsonpsatisfactory-plant-designer"]=this["webpackJsonpsatisfactory-plant-designer"]||[]).push([[0],{533:function(e,t,c){},864:function(e,t,c){"use strict";c.r(t);var a=c(5),s=c(0),j=c.n(s),n=c(19),r=c.n(n),i=(c(533),c(941)),u=c(398),b=c(504),o=c(23),l=c(946),O=c(928),d=c(943),x=c(942),f=c(933),h=c(934),m=c(948),p=c(950),g=c(473),v=c(166),k=c(935),C=c(951),y=c(296),w=c(70),V=c.n(w),R=c(284),T=["solid","liquid"].map((function(e){return{id:e,name:e}})),S=function(e){return Object(a.jsx)(l.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(a.jsx)(O.a,{source:"q",alwaysOn:!0})}))},B=function(e){return Object(a.jsx)(d.a,Object(o.a)(Object(o.a)({},e),{},{filters:Object(a.jsx)(S,{}),children:Object(a.jsxs)(x.a,{children:[Object(a.jsx)(f.a,{source:"id"}),Object(a.jsx)(f.a,{source:"name"}),Object(a.jsx)(f.a,{source:"type"}),Object(a.jsx)(y.ColorField,{source:"color"}),Object(a.jsx)(h.a,{})]})}))},D=function(e){var t=e.record;return t?Object(a.jsxs)("span",{children:["Resource #",t.id," - ",t.name]}):null},F=function(e){return Object(a.jsx)(m.a,Object(o.a)(Object(o.a)({title:Object(a.jsx)(D,{})},e),{},{transform:function(e){return e.id?e:Object(o.a)(Object(o.a)({},e),{},{id:V.a.camelCase(e.name)})},children:Object(a.jsxs)(p.a,{children:[Object(a.jsx)(g.a,{source:"id"}),Object(a.jsx)(g.a,{source:"name",validate:Object(v.k)()}),Object(a.jsx)(k.a,{choices:T,source:"type",validate:Object(v.k)(),defaultValue:"solid"}),Object(a.jsx)(y.ColorInput,{source:"color",defaultValue:"#000000"})]})}))},I=function(e){return Object(a.jsx)(C.a,Object(o.a)(Object(o.a)({title:"Create a Resource"},e),{},{transform:function(e){return e.id?e:Object(o.a)(Object(o.a)({},e),{},{id:V.a.camelCase(e.name)})},children:Object(a.jsxs)(p.a,{children:[Object(a.jsx)(g.a,{source:"id"}),Object(a.jsx)(g.a,{source:"name",validate:Object(v.k)()}),Object(a.jsx)(k.a,{choices:T,source:"type",defaultValue:"solid"}),Object(a.jsx)(y.ColorInput,{source:"color",defaultValue:"#000000"})]})}))},P=c(936),q=c(937),E=c(952),M=c(945),_=function(e){return Object(a.jsx)(l.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(a.jsx)(O.a,{source:"q",alwaysOn:!0})}))},J=function(e){return Object(a.jsx)(d.a,Object(o.a)(Object(o.a)({},e),{},{filters:Object(a.jsx)(_,{}),children:Object(a.jsxs)(x.a,{children:[Object(a.jsx)(f.a,{source:"id"}),Object(a.jsx)(f.a,{source:"name"}),Object(a.jsx)(P.a,{source:"powerConsumption"}),Object(a.jsx)(h.a,{})]})}))},L=function(e){var t=e.record;return t?Object(a.jsxs)("span",{children:["Building #",t.id," - ",t.name]}):null},N=function(e){return Object(a.jsx)(m.a,Object(o.a)(Object(o.a)({title:Object(a.jsx)(L,{})},e),{},{transform:function(e){return e.id?e:Object(o.a)(Object(o.a)({},e),{},{id:V.a.camelCase(e.name)})},children:Object(a.jsxs)(p.a,{children:[Object(a.jsx)(g.a,{source:"id"}),Object(a.jsx)(g.a,{source:"name",validate:Object(v.k)()}),Object(a.jsx)(q.a,{source:"powerConsumption",validate:Object(v.k)()}),Object(a.jsx)(E.a,{source:"inputs",defaultValue:[],children:Object(a.jsx)(M.a,{children:Object(a.jsx)(k.a,{choices:T})})}),Object(a.jsx)(E.a,{source:"outputs",defaultValue:[],children:Object(a.jsx)(M.a,{children:Object(a.jsx)(k.a,{choices:T})})})]})}))},K=function(e){return Object(a.jsx)(C.a,Object(o.a)(Object(o.a)({title:"Create a Building"},e),{},{transform:function(e){return e.id?e:Object(o.a)(Object(o.a)({},e),{},{id:V.a.camelCase(e.name)})},children:Object(a.jsxs)(p.a,{children:[Object(a.jsx)(g.a,{source:"id"}),Object(a.jsx)(g.a,{source:"name",validate:Object(v.k)()}),Object(a.jsx)(q.a,{source:"powerConsumption",validate:Object(v.k)()}),Object(a.jsx)(E.a,{source:"inputs",defaultValue:[],children:Object(a.jsx)(M.a,{children:Object(a.jsx)(k.a,{choices:T})})}),Object(a.jsx)(E.a,{source:"outputs",defaultValue:[],children:Object(a.jsx)(M.a,{children:Object(a.jsx)(k.a,{choices:T})})})]})}))},U=c(143),z=c(209),A=c(938),G=c(939),H=c(940),Q=c(949),W=c(75),X=c(489),Y=c(490),Z=c(944),$=c(953),ee=c(954),te=c(487),ce=c(35),ae=function(e){return Object(a.jsx)(l.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(a.jsx)(O.a,{source:"q",alwaysOn:!0})}))},se=function(e){return Object(a.jsx)(d.a,Object(o.a)(Object(o.a)({},e),{},{filters:Object(a.jsx)(ae,{}),children:Object(a.jsxs)(x.a,{children:[Object(a.jsx)(f.a,{source:"id"}),Object(a.jsx)(f.a,{source:"name"}),Object(a.jsx)(A.a,{source:"inputs",children:Object(a.jsx)(G.a,{children:Object(a.jsx)(H.a,{label:"Input",source:"resource",reference:"resources",children:Object(a.jsx)(Q.a,{source:"name"})})})}),Object(a.jsx)(A.a,{source:"outputs",children:Object(a.jsx)(G.a,{children:Object(a.jsx)(H.a,{label:"Output",source:"resource",reference:"resources",children:Object(a.jsx)(Q.a,{source:"name"})})})}),Object(a.jsx)(H.a,{label:"Building",source:"building",reference:"buildings",children:Object(a.jsx)(f.a,{source:"name"})}),Object(a.jsx)(h.a,{})]})}))},je=function(e){var t=e.record;return t?Object(a.jsxs)("span",{children:["Recipe #",t.id," - ",t.name]}):null},ne=function e(t,c){Object(R.a)(this,e),this.nodes=t,this.edges=c},re=function(){var e=Object(W.a)(),t=Object(ce.f)().values,c=Object(s.useState)(),j=Object(z.a)(c,2),n=j[0],r=j[1],i=Object(s.useState)(!0),u=Object(z.a)(i,2),b=u[0],o=u[1],l=Object(s.useState)(),O=Object(z.a)(l,2),d=O[0],x=O[1];return Object(s.useEffect)((function(){t&&Promise.all([e.getOne("buildings",{id:t.building}),e.getMany("resources",{ids:t.inputs.filter(V.a.negate(V.a.isNil)).map((function(e){return e.resource}))}),e.getMany("resources",{ids:t.outputs.filter(V.a.negate(V.a.isNil)).map((function(e){return e.resource}))})]).then((function(e){var t=Object(z.a)(e,3),c=t[0].data,a=t[1].data,s=t[2].data,j={id:"building_".concat(c.id),text:c.name},n=a.map((function(e){return{id:"input_".concat(e.id),text:e.name}})),i=s.map((function(e){return{id:"output_".concat(e.id),text:e.name}})),u=n.map((function(e){return{id:"".concat(e.id,"->").concat(j.id),from:e.id,to:j.id}})),b=i.map((function(e){return{id:"".concat(j.id,"->").concat(e.id),from:j.id,to:e.id}})),l=new ne([j].concat(Object(U.a)(n),Object(U.a)(i)),[].concat(Object(U.a)(u),Object(U.a)(b)));r(l),o(!1)})).catch((function(e){x(e),o(!1)}))}),[e,t]),b?Object(a.jsx)(X.a,{}):d?Object(a.jsx)(Y.a,{error:d}):n?Object(a.jsx)("div",{style:{position:"relative",height:500,width:"100%"},children:Object(a.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(a.jsx)(te.Canvas,{fit:!0,pannable:!1,nodes:n.nodes,edges:n.edges})})}):null},ie=function(e){return Object(a.jsx)(m.a,Object(o.a)(Object(o.a)({title:Object(a.jsx)(je,{})},e),{},{transform:function(e){return e.id?e:Object(o.a)(Object(o.a)({},e),{},{id:V.a.camelCase(e.name)})},children:Object(a.jsxs)(Z.a,{children:[Object(a.jsxs)($.a,{label:"Properties",children:[Object(a.jsx)(g.a,{source:"id"}),Object(a.jsx)(g.a,{source:"name",validate:Object(v.k)()}),Object(a.jsx)(E.a,{source:"inputs",defaultValue:[],children:Object(a.jsxs)(M.a,{children:[Object(a.jsx)(ee.a,{label:"resource",source:"resource",reference:"resources",validate:Object(v.k)(),children:Object(a.jsx)(k.a,{optionText:"name"})}),Object(a.jsx)(q.a,{source:"flowRate",validate:Object(v.k)()})]})}),Object(a.jsx)(E.a,{source:"outputs",defaultValue:[],children:Object(a.jsxs)(M.a,{children:[Object(a.jsx)(ee.a,{label:"resource",source:"resource",reference:"resources",validate:Object(v.k)(),children:Object(a.jsx)(k.a,{optionText:"name"})}),Object(a.jsx)(q.a,{source:"flowRate",validate:Object(v.k)()})]})}),Object(a.jsx)(ee.a,{label:"building",source:"building",reference:"buildings",validate:Object(v.k)(),children:Object(a.jsx)(k.a,{optionText:"name"})})]}),Object(a.jsx)($.a,{label:"Design",children:Object(a.jsx)(re,{})})]})}))},ue=function(e){return Object(a.jsx)(C.a,Object(o.a)(Object(o.a)({title:"Create a Recipe"},e),{},{transform:function(e){return e.id?e:Object(o.a)(Object(o.a)({},e),{},{id:V.a.camelCase(e.name)})},children:Object(a.jsxs)(p.a,{children:[Object(a.jsx)(g.a,{source:"id"}),Object(a.jsx)(g.a,{source:"name",validate:Object(v.k)()}),Object(a.jsx)(E.a,{source:"inputs",defaultValue:[],children:Object(a.jsxs)(M.a,{children:[Object(a.jsx)(ee.a,{label:"resource",source:"resource",reference:"resources",validate:Object(v.k)(),children:Object(a.jsx)(k.a,{optionText:"name"})}),Object(a.jsx)(q.a,{source:"flowRate",validate:Object(v.k)()})]})}),Object(a.jsx)(E.a,{source:"outputs",defaultValue:[],children:Object(a.jsxs)(M.a,{children:[Object(a.jsx)(ee.a,{label:"resource",source:"resource",reference:"resources",validate:Object(v.k)(),children:Object(a.jsx)(k.a,{optionText:"name"})}),Object(a.jsx)(q.a,{source:"flowRate",validate:Object(v.k)()})]})}),Object(a.jsx)(ee.a,{label:"building",source:"building",reference:"buildings",validate:Object(v.k)(),children:Object(a.jsx)(k.a,{optionText:"name"})})]})}))},be=Object(b.a)({defaultData:{},localStorageKey:"plantDesigner",localStorageUpdateDelay:0,loggingEnabled:!0}),oe=function(){return Object(a.jsxs)(i.a,{dataProvider:be,children:[Object(a.jsx)(u.a,{name:"resources",list:B,create:I,edit:F}),Object(a.jsx)(u.a,{name:"buildings",list:J,create:K,edit:N}),Object(a.jsx)(u.a,{name:"recipes",list:se,create:ue,edit:ie})]})},le=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,956)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,j=t.getLCP,n=t.getTTFB;c(e),a(e),s(e),j(e),n(e)}))};r.a.render(Object(a.jsx)(j.a.StrictMode,{children:Object(a.jsx)(oe,{})}),document.getElementById("root")),le()}},[[864,1,2]]]);
//# sourceMappingURL=main.1d5cb722.chunk.js.map